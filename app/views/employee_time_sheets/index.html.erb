<div id="layoutSidenav">
  <div id="layoutSidenav_content">
    <main>
      <div class="container-fluid">
        <div class="modal fade" id="myModal" role="dialog">
          <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
              </div>
              <div class="modal-body">
                <div class="col-md-6">
                  <div class="form-group">
                <%#= select :employee_ids, options_for_select(Employee.all.map{|c| [c.first_name + " " + c.last_name , c.id]}), {}, {class: "form-control selectpicker", data: {"live-search": true}} %>
                <select class="js-example-basic-single" name="state" class="form-control w-100">
                  <% Employee.all.each do |employee_type| %>
                    <option value="<%= employee_type.id %>">
                      <%= employee_type.first_name %>
                    </option>
                  <% end %>
                </select>
                  </div>
                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              </div>
            </div>

          </div>
        </div>
        <center>
          <h3 class="alert-info mt-1"><%= notice %></h3>
        </center>
        <h1 class="mt-2">Employees Time Sheet</h1>
        <div class="row">
          <div class="col-xl-4 col-md-6"></div>
          <div class="col-xl-4 col-md-6"></div>
          <div class="col-xl-3 col-md-4">
            <div class="text-white mb-3">
              <input id="datepicker" width="270" placeholder="Select Date"/>
            </div>
          </div>

        </div>
        <div class="card mb-4">
          <div class="card-body">
            <div class="table-responsive">
              <table id="example" class="table-bordered" width="100%" cellspacing="0">
                <thead>
                <tr>
                  <th rowspan="2">Employee</th>
                  <th rowspan="2">Labour type</th>
                  <th rowspan="2">Company</th>
                  <th rowspan="2">Manager</th>
                  <th rowspan="2">Foreman</th>
                  <th rowspan="2">Total hours</th>
                  <th colspan="6">Select Cost Codes</th>
                </tr>
                <tr>
                  <th>Costcode</th>
                  <th>Hrs</th>
                  <th>Costcode</th>
                  <th>Hrs</th>
                  <th>Costcode</th>
                  <th>Hrs</th>
                </tr>
                </thead>
                <tbody>
                <% @employee_time_sheets.each do |employee_time_sheet| %>
                  <tr>
                  <td><%= employee_time_sheet.employee %></td>
                  <td><%= employee_time_sheet.labour_type %></td>
                  <td><%= employee_time_sheet.project_company_id %></td>
                  <td><%= employee_time_sheet.manager %></td>
                  <td><%= employee_time_sheet.foreman_name%></td>
                  <td><%= employee_time_sheet.total_hours%></td>
                  <td>
                    <button class="w-100" onclick="my()">+</button>
                    <%#= link_to '+', employee_time_sheets_path, :class => 'btn btn-default w-100', :style => 'font-weight:bold;', :onclick => my() %>
                  </td>
                  <td>9.50</td>
                  <td>20CP01</td>
                  <td>9.50</td>
                  <td>20CP01</td>
                  <td>9.50</td>
                    </tr>
                <% end %>
                </tbody>
              </table>

              <br>
              <div class="row">
                <div class="col-md-3">
                  <div class="form-group mt-3 mb-0">
                    <div class="actions">
                      <%= link_to 'Copy from Previous Timesheet', employee_time_sheets_path, :class => 'btn btn-dark w-100', :style => 'font-weight:bold; color: white;' %>
                    </div>
                  </div>
                </div>
                <div class="col-md-3">
                  <div class="form-group mt-3 mb-0">
                    <div class="actions">
                      <%= link_to 'Save Progress', employee_time_sheets_path, :class => 'btn btn-dark w-100', :style => 'font-weight:bold; color: white;' %>
                    </div>
                  </div>
                </div>
                <div class="col-md-3">
                  <div class="form-group mt-3 mb-0">
                    <div class="actions">
                      <%= link_to 'Update Timesheets', employee_time_sheets_path, :class => 'btn btn-dark w-100', :style => 'font-weight:bold; color: white;' %>
                    </div>
                  </div>
                </div>
                <div class="col-md-3">
                  <div class="form-group mt-3 mb-0">
                    <div class="actions">
                      <%= link_to 'Submit Timesheets', employee_time_sheets_path, :class => 'btn btn-dark w-100', :style => 'font-weight:bold; color: white;' %>
                    </div>
                  </div>
                </div>
              </div>
              <%#= link_to 'New Employee Time Sheet', new_employee_time_sheet_path %>
            </div>
          </div>
        </div>
      </div>
    </main>
  </div>
</div>
<link href="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/css/select2.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.6.1/js/dataTables.buttons.min.js" crossorigin="anonymous"></script>
<!--<script src="https://cdn.datatables.net/buttons/1.6.1/js/buttons.flash.min.js" crossorigin="anonymous"></script>-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js" crossorigin="anonymous"></script>
<script src="https://cdn.datatables.net/buttons/1.6.1/js/buttons.html5.min.js" crossorigin="anonymous"></script>
<script src="https://cdn.datatables.net/buttons/1.6.1/js/buttons.print.min.js" crossorigin="anonymous"></script>
<script type="text/javascript">
  function my() {
      // $.confirm({
      //     title: 'Prompt!',
      //     content: '' +
      //         '<form action="" class="formName">' +
      //         '<div class="form-group">' +
      //         '<label>Enter something here</label>' +
      //         '<input type="text" placeholder="Your name" class="name form-control" required />' +
      //         '</div>' +
      //         '</form>',
      //     buttons: {
      //         formSubmit: {
      //             text: 'Submit',
      //             btnClass: 'btn-blue',
      //             action: function () {
      //                 var name = this.$content.find('.name').val();
      //                 if (!name) {
      //                     $.alert('provide a valid name');
      //                     return false;
      //                 }
      //                 $.alert('Your name is ' + name);
      //             }
      //         },
      //         cancel: function () {
      //             //close
      //         },
      //     },
      //     onContentReady: function () {
      //         // bind to events
      //         var jc = this;
      //         this.$content.find('form').on('submit', function (e) {
      //             // if the user submits the form by pressing enter in the field.
      //             e.preventDefault();
      //             jc.$$formSubmit.trigger('click'); // reference the button and click it
      //         });
      //     }
      // });
      $("#myModal").modal();
      $('.js-example-basic-single').select2();
  }
    // $(document).ready(function() {
    $('#example').DataTable( {
        dom: 'Bfrtip',
        buttons: [
            'csv', 'excel', 'pdf', 'print'
        ]
    } );
    // } );
    $('#datepicker').datepicker({
        uiLibrary: 'bootstrap'
    });
  // $(document).ready(function () {
  //     $('.js-example-basic-single').select2();
  // });

</script>